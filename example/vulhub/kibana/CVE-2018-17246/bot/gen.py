import os

target_url = os.environ.get("TARGET_URL", None)

urls = [
    f"{target_url}/app/kibana#/management/kibana/index?_g=()",
    f"{target_url}/app/kibana#/discover?_g=()",
    f"{target_url}/app/kibana#/visualize?_g=()",
    f"{target_url}/app/kibana#/dashboard?_g=()",
    f"{target_url}/app/kibana#/dev_tools/console?_g=()",
    f"{target_url}/app/kibana#/management",
    f"{target_url}/app/timelion#?_g=(refreshInterval:(display:Off,pause:!f,value:0),time:(from:now-15m,interval:auto,mode:quick,timezone:Asia%2FShanghai,to:now))&_a=(columns:2,interval:auto,rows:2,selected:0,sheet:!('.es(*)'))",
]

import random
import time

import requests

while True:
    url = random.choice(urls)
    print(f"GET {url}")
    time.sleep(random.randint(1, 3))
    response = requests.get(url)
    print(response.text)
